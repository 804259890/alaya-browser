<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.platon.browser.persistence.dao.mapper.StatisticBusinessMapper">
<update id="networkChange" parameterType="com.platon.browser.common.complement.dto.statistic.NetworkStatChange">
    insert into `network_stat`
    (
        `id`,
        `cur_number`,
        `node_id`,
        `node_name`,
        `tx_qty`,
        `cur_tps`,
        `max_tps`,
        `issue_value`,
        `turn_value`,
        `proposal_qty`,
        `block_reward`,
        `staking_reward`,
        `add_issue_begin`,
        `add_issue_end`,
        `next_settle`
    )
    values
    (
        #{id},
        #{curNumber},
        #{nodeId},
        #{nodeName},
        #{txQty},
        #{curTps},
        #{maxTps},
        #{issueValue},
        #{turnValue},
        #{proposalQty},
        #{blockReward},
        #{stakingReward},
        #{addIssueBegin},
        #{addIssueEnd},
        #{nextSettle}
    )
    on duplicate
    key update
        `cur_number` = #{curNumber},
        `node_id` = #{nodeId},
        `node_name` = #{nodeName},
        `tx_qty` = #{txQty},
        `cur_tps` = #{curTps},
        `max_tps` = #{maxTps},
        `issue_value` = #{issueValue},
        `turn_value` = #{turnValue},
        `proposal_qty` = #{proposalQty},
        `block_reward` = #{blockReward},
        `staking_reward` = #{stakingReward},
        `add_issue_begin` = #{addIssueBegin},
        `add_issue_end` = #{addIssueEnd},
        `next_settle` = #{nextSettle};
</update>
</mapper>